# Redis

## Развернуть Redis в контейнере

Для развертывания кластера использовался docker-compose.yaml.

# Настройки Redis и объект для тестирования

Для того, чтобы замерить скорость записи и чтения параметр `--slowlog-log-slower-than` был выставлен в значение 100

В качестве тестовых данных был выбран json объект с размером 26.2 Мб.

# Замеры скорости записи и чтения

| Структуры данных | Запись, микросекунды | Чтение, микросекунды |
|------------------|----------------------|----------------------|
| String           | 1220                 | 13439                |
| HSET             | 10746                | 10358                |
| ZSET             | 8644                 | 10579                |
| LIST             | 10263                | 44787                |

* В таблице приведено среднее значение по трем замерам.


### Итоги

`Redis` - отличный инструмен для хранения данных и быстрого доступа к ней, если речь идёт о небольших данных и не очень большом сроке хранения. 
Согласно исследованию, наиболее быстрым способом сохранения данных является использование структуры данных `String`. 
С точки зрения чтения - это струкутра `HSET`. 

Однако стоит отметить, что сам по себе тест для данных объемом 26.2 Мб не является репрезентативным, поскольку различные структуры данных созданы для хранения разных элементов. 
Поскольку сам json может быть сколько угодно большим, но при помощи `HSET` можно хранить только отдельные поля объекта, а не весь объект целиком.
Но это значительно увеличит общее время записи, так как придется каждое ключ значение сохранять отдельно (Согласно документации `Redis` временная сложность увеличится O(N)).

В связи с этим хочется отметить, что для каждых целей нужно выбирать свой тип данных. И во многом все зависит от поставленной задачи.
